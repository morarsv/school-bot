# ü¶ä –õ–∏—Å—å—è —à–∫–æ–ª–∞

**–õ–∏—Å—å—è —à–∫–æ–ª–∞** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç —É—á–∏—Ç–µ–ª—é –≥–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —É—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.  
–£—á–µ–Ω–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ –±–æ—Ç–µ, –≤—ã–±–∏—Ä–∞—é—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —É—á–∏—Ç–µ–ª–µ–º, –ø–æ–ª—É—á–∞—è –∏–ª–∏ —Ç–µ—Ä—è—è –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—É—é –≤–∞–ª—é—Ç—É –∏ –ø—Ä–æ–∫–∞—á–∏–≤–∞—è —É—Ä–æ–≤–µ–Ω—å.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–æ–≤** ‚Äî –∫–∞–∂–¥—ã–π —É—á–µ–Ω–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
- **–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π** ‚Äî —É—á–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–≤—ã—à–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å —É—á–µ–Ω–∏–∫–æ–≤.
- **–í–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞** ‚Äî –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –º–æ–Ω–µ—Ç —É—á–∏—Ç–µ–ª–µ–º.
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π** ‚Äî —É—á–µ–Ω–∏–∫–∏ –≤–∏–¥—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å—ë–Ω–Ω—ã–µ —É—á–∏—Ç–µ–ª–µ–º.
- **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è** ‚Äî –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ä–æ–∫–∞ –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é –∏–≥—Ä—É.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python** 3.12
- **Redis** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π.
- **aiogram_dialog** ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –≤ Telegram.
- **SQLAlchemy** + **alembic** ‚Äî ORM –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- **aiosqlite** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å SQLite.


## üéØ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

–£—á–∏—Ç–µ–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –∏ —Å—Ç–∞—Ä—à–∏—Ö –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç —Å–¥–µ–ª–∞—Ç—å —É—Ä–æ–∫–∏ –±–æ–ª–µ–µ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —É—á–µ–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å.


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker compose

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- docker 24+ –∏ docker compose v2+
- —Ç–æ–∫–µ–Ω —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone https://github.com/morarsv/school-bot.git
   cd school-bot

2. **–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
    ```bash
    docker build . -t school-bot:latest
    ```
2. **–°–æ–∑–¥–∞–π—Ç–µ docker-compose.yaml**
    ```
    services:
    
      bot:
        image: school-bot:latest
        container_name: bot_school
        restart: unless-stopped
        env_file: ".env"
        volumes:
          - /home/service/bot/logs:/app/src/logs # –ª–æ–≥–∏
          - /home/service/bot/data/db:/app/data # –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±–¥
        depends_on:
          redis-school:
            condition: service_started
        networks:
          - schoolnet
    
      redis-school:
          image: "redis:7-alpine"
          container_name: redis-school
          restart: unless-stopped
          healthcheck:
              test: [ "CMD", "redis-cli","ping" ]
          networks:
           - schoolnet
    
    
    networks:
      schoolnet:
    ```
3. **–°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª .env**
    ```
    BOT_TOKEN= #–¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
    URL_SQLITE=sqlite+aiosqlite:///data/iq_game.db
    HOST_REDIS=redis-school
    PORT_REDIS=6379
    ADMIN_ID=123456,654789,147258 #Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞(-–æ–≤)
    ```
4. **–ó–∞–ø—É—Å–∫**
    ```bash
    docker compose up -d
    ```
   **–û—Å—Ç–∞–Ω–æ–≤–∫–∞**
    ```bash
    docker compose stop
    ```